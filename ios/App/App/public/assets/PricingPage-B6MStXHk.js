import{r as x,u as d,j as e,B as u,s as h}from"./index-s1Im0gGd.js";import{S as p}from"./star-28KIeG3b.js";import{C as n}from"./check-DFZLJWyg.js";import{p as f}from"./stripe-config-JhD1Bie7.js";function j({product:s,isPopular:t=!1}){const[c,i]=x.useState(!1),{user:o}=d(),m=async()=>{if(o){i(!0);try{const{data:a}=await h.auth.getSession();if(!a.session)throw new Error("No active session");const l=await fetch("https://cvgphokecoacqleecflb.supabase.co/functions/v1/stripe-checkout",{method:"POST",headers:{Authorization:`Bearer ${a.session.access_token}`,"Content-Type":"application/json"},body:JSON.stringify({price_id:s.priceId,mode:s.mode,success_url:`${window.location.origin}/success`,cancel_url:`${window.location.origin}/pricing`})}),r=await l.json();if(!l.ok)throw new Error(r.error||"Failed to create checkout session");r.url&&(window.location.href=r.url)}catch(a){console.error("Error creating checkout session:",a)}finally{i(!1)}}};return e.jsxs("div",{className:`relative bg-white rounded-2xl shadow-lg border-2 transition-all duration-300 hover:shadow-xl ${t?"border-primary scale-105":"border-neutral-200 hover:border-primary/70"}`,children:[t&&e.jsx("div",{className:"absolute -top-4 left-1/2 transform -translate-x-1/2",children:e.jsxs("div",{className:"bg-primary text-white px-4 py-1 rounded-full text-sm font-medium flex items-center",children:[e.jsx(p,{className:"w-4 h-4 mr-1 fill-current"}),"Le plus populaire"]})}),e.jsxs("div",{className:"p-8",children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("h3",{className:"text-2xl font-bold text-neutral-900 mb-2",children:s.name}),e.jsx("div",{className:"text-4xl font-bold text-primary mb-4",children:s.price}),e.jsx("p",{className:"text-neutral-600 leading-relaxed",children:s.description})]}),e.jsxs("div",{className:"space-y-3 mb-8",children:[e.jsxs("div",{className:"flex items-center text-sm text-neutral-600",children:[e.jsx(n,{className:"w-4 h-4 text-green-500 mr-3 flex-shrink-0"}),e.jsx("span",{children:"Paiement sécurisé"})]}),e.jsxs("div",{className:"flex items-center text-sm text-neutral-600",children:[e.jsx(n,{className:"w-4 h-4 text-green-500 mr-3 flex-shrink-0"}),e.jsx("span",{children:"Accès immédiat"})]}),e.jsxs("div",{className:"flex items-center text-sm text-neutral-600",children:[e.jsx(n,{className:"w-4 h-4 text-green-500 mr-3 flex-shrink-0"}),e.jsx("span",{children:"Support client 24/7"})]})]}),e.jsx(u,{onClick:m,loading:c,className:"w-full",variant:t?"primary":"outline",children:"Acheter maintenant"})]})]})}function b(){return e.jsx("div",{className:"min-h-screen bg-neutral-50 py-12 px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"text-center mb-16",children:[e.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-neutral-900 mb-4",children:"Choisissez votre pack"}),e.jsx("p",{className:"text-xl text-neutral-600 max-w-3xl mx-auto",children:"Des solutions adaptées à tous vos besoins d'envoi. Commencez avec notre pack découverte ou optez pour nos offres premium."})]}),e.jsx("div",{className:"grid md:grid-cols-3 gap-8 max-w-5xl mx-auto",children:f.map((s,t)=>e.jsx(j,{product:s,isPopular:t===1},s.id))}),e.jsx("div",{className:"mt-16 text-center",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8 max-w-3xl mx-auto",children:[e.jsx("h3",{className:"text-2xl font-bold text-neutral-900 mb-4",children:"Garantie de satisfaction"}),e.jsx("p",{className:"text-neutral-600 mb-6",children:"Nous sommes convaincus de la qualité de notre service. Si vous n'êtes pas satisfait, nous vous remboursons intégralement."}),e.jsxs("div",{className:"flex flex-wrap justify-center gap-8 text-sm text-neutral-500",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"w-2 h-2 bg-green-500 rounded-full mr-2"}),"Paiement sécurisé"]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"w-2 h-2 bg-green-500 rounded-full mr-2"}),"Support 24/7"]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"w-2 h-2 bg-green-500 rounded-full mr-2"}),"Remboursement garanti"]})]})]})})]})})}export{b as PricingPage};
