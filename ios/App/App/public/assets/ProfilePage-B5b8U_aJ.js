import{u as v,r as s,j as e,U as w,B as y,s as g}from"./index-s1Im0gGd.js";import{I as o}from"./Input-BKp795_O.js";import{A as j}from"./Alert-DQovq92X.js";function E(){const{user:t,profile:r}=v(),[N,i]=s.useState(!1),[u,l]=s.useState(""),[c,x]=s.useState(""),[n,d]=s.useState(""),[m,f]=s.useState("");s.useEffect(()=>{r&&(d(r.first_name||""),f(r.last_name||""))},[r]);const b=async a=>{if(a.preventDefault(),i(!0),l(""),x(""),!t){l("Utilisateur non trouvé."),i(!1);return}const{error:p}=await g.auth.updateUser({data:{first_name:n,last_name:m}});if(p)l(p.message);else{const{error:h}=await g.from("users").update({first_name:n,last_name:m}).eq("id",t.id);h?l(h.message):x("Profil mis à jour avec succès !")}i(!1)};return e.jsxs("form",{onSubmit:b,className:"space-y-6",children:[e.jsxs("h3",{className:"text-xl font-semibold text-neutral-800 flex items-center",children:[e.jsx(w,{className:"w-5 h-5 mr-2 text-primary"}),"Informations personnelles"]}),u&&e.jsx(j,{type:"error",message:u}),c&&e.jsx(j,{type:"success",message:c}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:[e.jsx(o,{label:"Prénom",name:"firstName",value:n,onChange:a=>d(a.target.value),required:!0}),e.jsx(o,{label:"Nom",name:"lastName",value:m,onChange:a=>f(a.target.value),required:!0})]}),e.jsx(o,{label:"Email",name:"email",value:(t==null?void 0:t.email)||"",disabled:!0}),e.jsx("div",{className:"pt-4",children:e.jsx(y,{type:"submit",loading:N,className:"w-full sm:w-auto bg-primary hover:bg-primary/90 text-white",children:"Enregistrer les modifications"})})]})}function U(){return e.jsx("div",{className:"min-h-screen bg-neutral-50 py-12 px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"max-w-3xl mx-auto",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-neutral-800 mb-4",children:"Mon Profil"}),e.jsx("p",{className:"text-lg text-neutral-600 max-w-2xl mx-auto",children:"Mettez à jour vos informations personnelles."})]}),e.jsx("div",{className:"bg-white rounded-4xl shadow-xl p-8",children:e.jsx(E,{})})]})})}export{U as ProfilePage};
